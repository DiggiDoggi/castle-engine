#!/bin/bash
set -eu

mkdir -p castle-engine-output/compilation/wasm32-wasi/

CGE_ROOT=../../

fpc \
-Fu${CGE_ROOT}src/base \
-Fi${CGE_ROOT}src/base \
-Fu${CGE_ROOT}src/common_includes \
-Fi${CGE_ROOT}src/common_includes \
-Fu${CGE_ROOT}src/base/android \
-Fi${CGE_ROOT}src/base/android \
-Fu${CGE_ROOT}src/base/windows \
-Fi${CGE_ROOT}src/base/windows \
-Fu${CGE_ROOT}src/base/unix \
-Fi${CGE_ROOT}src/base/unix \
-Fu${CGE_ROOT}src/base_rendering \
-Fi${CGE_ROOT}src/base_rendering \
-Fu${CGE_ROOT}src/base_rendering/glsl/generated-pascal \
-Fi${CGE_ROOT}src/base_rendering/glsl/generated-pascal \
-Fu${CGE_ROOT}src/fonts \
-Fi${CGE_ROOT}src/fonts \
-Fu${CGE_ROOT}src/window \
-Fi${CGE_ROOT}src/window \
-Fu${CGE_ROOT}src/window/gtk \
-Fi${CGE_ROOT}src/window/gtk \
-Fu${CGE_ROOT}src/window/windows \
-Fi${CGE_ROOT}src/window/windows \
-Fu${CGE_ROOT}src/window/unix \
-Fi${CGE_ROOT}src/window/unix \
-Fu${CGE_ROOT}src/window/deprecated_units \
-Fi${CGE_ROOT}src/window/deprecated_units \
-Fu${CGE_ROOT}src/images \
-Fi${CGE_ROOT}src/images \
-Fu${CGE_ROOT}src/transform \
-Fi${CGE_ROOT}src/transform \
-Fu${CGE_ROOT}src/scene \
-Fi${CGE_ROOT}src/scene \
-Fu${CGE_ROOT}src/scene/glsl/generated-pascal \
-Fi${CGE_ROOT}src/scene/glsl/generated-pascal \
-Fu${CGE_ROOT}src/scene/x3d \
-Fi${CGE_ROOT}src/scene/x3d \
-Fu${CGE_ROOT}src/scene/load \
-Fi${CGE_ROOT}src/scene/load \
-Fu${CGE_ROOT}src/scene/load/spine \
-Fi${CGE_ROOT}src/scene/load/spine \
-Fu${CGE_ROOT}src/scene/load/collada \
-Fi${CGE_ROOT}src/scene/load/collada \
-Fu${CGE_ROOT}src/scene/load/pasgltf \
-Fi${CGE_ROOT}src/scene/load/pasgltf \
-Fu${CGE_ROOT}src/audio \
-Fi${CGE_ROOT}src/audio \
-Fu${CGE_ROOT}src/audio/fmod \
-Fi${CGE_ROOT}src/audio/fmod \
-Fu${CGE_ROOT}src/audio/openal \
-Fi${CGE_ROOT}src/audio/openal \
-Fu${CGE_ROOT}src/audio/ogg_vorbis \
-Fi${CGE_ROOT}src/audio/ogg_vorbis \
-Fu${CGE_ROOT}src/files \
-Fi${CGE_ROOT}src/files \
-Fu${CGE_ROOT}src/files/indy \
-Fi${CGE_ROOT}src/files/indy \
-Fu${CGE_ROOT}src/castlescript \
-Fi${CGE_ROOT}src/castlescript \
-Fu${CGE_ROOT}src/ui \
-Fi${CGE_ROOT}src/ui \
-Fu${CGE_ROOT}src/ui/windows \
-Fi${CGE_ROOT}src/ui/windows \
-Fu${CGE_ROOT}src/services \
-Fi${CGE_ROOT}src/services \
-Fu${CGE_ROOT}src/physics \
-Fi${CGE_ROOT}src/physics \
-Fu${CGE_ROOT}src/physics/kraft \
-Fi${CGE_ROOT}src/physics/kraft \
-Fu${CGE_ROOT}src/deprecated_units \
-Fi${CGE_ROOT}src/deprecated_units \
-Fu${CGE_ROOT}src/vampyre_imaginglib/src/Source \
-Fi${CGE_ROOT}src/vampyre_imaginglib/src/Source \
-Fu${CGE_ROOT}src/vampyre_imaginglib/src/Source/JpegLib \
-Fi${CGE_ROOT}src/vampyre_imaginglib/src/Source/JpegLib \
-Fu${CGE_ROOT}src/vampyre_imaginglib/src/Source/ZLib \
-Fi${CGE_ROOT}src/vampyre_imaginglib/src/Source/ZLib \
-Fu${CGE_ROOT}src/vampyre_imaginglib/src/Extras/Extensions \
-Fi${CGE_ROOT}src/vampyre_imaginglib/src/Extras/Extensions \
-Fu${CGE_ROOT}src/vampyre_imaginglib/src/Extensions/J2KObjects \
-Fi${CGE_ROOT}src/vampyre_imaginglib/src/Extensions/J2KObjects \
-Fu${CGE_ROOT}src/vampyre_imaginglib/src/Extensions/LibTiff \
-Fi${CGE_ROOT}src/vampyre_imaginglib/src/Extensions/LibTiff \
-Fu${CGE_ROOT}src/vampyre_imaginglib/src/Extensions \
-Fi${CGE_ROOT}src/vampyre_imaginglib/src/Extensions \
-Fu${CGE_ROOT}src/compatibility/web_assembly/generics.collections \
-Fi${CGE_ROOT}src/compatibility/web_assembly/generics.collections \
-Fu${CGE_ROOT}src/compatibility/web_assembly/generics.collections/inc \
-Fi${CGE_ROOT}src/compatibility/web_assembly/generics.collections/inc \
-Fu${CGE_ROOT}src/compatibility/web_assembly/fcl-image/src \
-Fi${CGE_ROOT}src/compatibility/web_assembly/fcl-image/src \
-Fu${CGE_ROOT}src/compatibility/web_assembly/pasjpeg/src \
-Fi${CGE_ROOT}src/compatibility/web_assembly/pasjpeg/src \
-Fu${CGE_ROOT}src/compatibility/web_assembly/paszlib/src \
-Fi${CGE_ROOT}src/compatibility/web_assembly/paszlib/src \
-Fucode/ \
-Ficode/ \
-Fl${CGE_ROOT}src/vampyre_imaginglib/src/Extensions/J2KObjects \
-Fl${CGE_ROOT}src/vampyre_imaginglib/src/Extensions/LibTiff/Compiled \
-l \
-vwn \
-Ci \
-Mobjfpc \
-Sm \
-Sc \
-Sg \
-Si \
-Sh \
-vm2045 \
-vm5024 \
-vm5093 \
-vm6058 \
-vm5089 \
-vm5090 \
-Twasi \
-Pwasm32 \
platformer_standalone.dpr \
-FU${CGE_ROOT}examples/platformer/castle-engine-output/compilation/wasm32-wasi/
